---
import Layout from '../../layouts/MainLayout.astro';
import Header from '../../components/Header.astro';
import BlogCard from '../../components/BlogCard.astro';

const posts = await Astro.glob('../../content/blog/*.{md,mdx}');
const sorted = posts.sort((a, b) => new Date(b.frontmatter.date).getTime() - new Date(a.frontmatter.date).getTime());
---
<Layout title="EKOU | Blog" description="Recursos y artículos para equipos de negocio y tecnología">
  <Header />
  <div class="container" style="padding: 60px 0 80px;">
    <p class="badge">Blog</p>
    <h1 class="section-title" style="text-align:left;">Artículos y prácticas accionables</h1>
    <p class="section-subtitle" style="text-align:left;">Publicaciones cortas con aprendizajes y herramientas listas para usar.</p>
    <div class="blog-grid">
      {sorted.map((post) => (
        <BlogCard
          href={post.url}
          title={post.frontmatter.title}
          excerpt={post.frontmatter.excerpt}
          date={post.frontmatter.date}
        />
      ))}
    </div>
  </div>
</Layout>
