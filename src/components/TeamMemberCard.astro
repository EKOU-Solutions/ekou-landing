---
import { Sparkles, Linkedin } from 'lucide-react'

interface Props {
  name: string
  role: string
  position: string
  description: string
  image: string
  linkedinUrl?: string
  linkedinLabel?: string
}

const {
  name,
  role,
  position,
  description,
  image,
  linkedinUrl,
  linkedinLabel = 'LinkedIn',
} = Astro.props
---

<article
  class="team-card group relative w-full max-w-[340px] overflow-hidden rounded-2xl border border-(--color-border) bg-(--surface-primary)"
>
  <div class="relative aspect-[4/3] w-full overflow-hidden">
    <figure class="overflow-hidden max-h-63">
      <img
        src={image}
        alt={name}
        class="h-full w-full object-cover object-top transition-transform duration-500 group-hover:scale-105"
        loading="lazy"
      />
    </figure>
    <div
      class="absolute h-full inset-0 bg-linear-to-b from-60% to-(--surface-primary)"
      aria-hidden="true"
    >
    </div>

    <span
      class="absolute left-3 top-3 inline-flex items-center gap-1.5 rounded-full bg-[#0a0f1a]/80 px-3 py-1 text-xs font-medium text-(--color-primary) backdrop-blur-sm"
    >
      <Sparkles className="h-3 w-3" />
      {position}
    </span>

    {
      linkedinUrl && (
        <a
          href={linkedinUrl}
          target="_blank"
          rel="noopener noreferrer"
          class="absolute right-3 top-3 flex h-8 w-8 items-center justify-center rounded-lg bg-[#0a0f1a]/80 text-(--color-primary) backdrop-blur-sm transition-colors hover:bg-(--color-primary) hover:text-[#0a0f1a]"
          aria-label={`${linkedinLabel} ${name}`}
        >
          <Linkedin className="h-4 w-4" />
        </a>
      )
    }
  </div>

  <div class="relative z-10 -mt-8 px-4 pb-5">
    <h3 class="text-xl font-semibold text-(--text-primary)">{name}</h3>
    <p class="mt-1 text-sm font-medium text-(--color-primary)">{role}</p>
    <p class="mt-2 text-sm leading-relaxed text-(--text-secundary)">{description}</p>
  </div>
</article>

<style>
  .team-card {
    transition:
      transform 300ms ease,
      box-shadow 300ms ease;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    position: relative;
  }

  .team-card:hover {
    transform: translateY(-4px);
    box-shadow:
      0 10px 40px rgba(83, 234, 253, 0.1),
      0 8px 32px rgba(0, 0, 0, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }

  .team-card:hover::before {
    opacity: 0.7;
  }
</style>
